# アイディア

## サービス面

- 特定ドメインをクローリングしてデータを蓄積
- 蓄積したデータからのベクトル検索が可能
- 蓄積されたデータをもとに AI による回答が可能
- 当面の主な対象は市役所等行政のホームページ
- wasm+onnx でフロントでベクトル化できるといろいろと楽

## 技術面

- コンテナ構造
  - app: フロントエンドへ提供する API や DB とのやり取りを行う Go で実装
  - nlp: テキストデータの正規化、ベクトル化、検索を行う Python で実装
  - db: PostgreSQL、ベクトルも含めて保存
- ORM の是非については諸説あるが、一旦 Bun を使ってみる
  - せっかくの個人プロジェクトなので一般的な Gorm ではなく、新しい ORM を採用してみた
  - 通常の Prisma 等は使ったことがあるので "SQL First" と謳っている Bun を使ってみて使用感を確かめたい
- いろいろな自然言語周辺技術等調べていて思ったが、とてもじゃないがライブラリ使用を避けるのは難しい
- 改善案
  - 「手続き」「申請」「暮らし」「補助金」等を含まれるページを優先してクローリング
  - 「〇〇県〇〇市の～についての～」のようなテンプレートに当て込んでのベクトル化
  - よく検索されるサイトが偏る法則を利用してのキャッシュ戦略

## 前処理

数字、英字の半角、全角の統一
漢数字をアラビア数字に変換
日付の表記を統一
全角スペースを半角スペースに変換
半角カタカナを全角カタカナに変換
一か月の表記「1か月」「1カ月」「1ヶ月」「1ヵ月」「1箇月」「1ケ月」の統一
記号を全角から半角に変換（例：！→!、？→?、＠→@、￥→¥、”→"）
句読点の統一（例：，→、や．→。）
